{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getASTNodeAtPosition = getASTNodeAtPosition;\nexports.pointToOffset = pointToOffset;\n\nvar _Range = require(\"./Range\");\n\nvar _graphql = require(\"graphql\");\n/**\n *  Copyright (c) 2019 GraphQL Contributors\n *  All rights reserved.\n *\n *  This source code is licensed under the license found in the\n *  LICENSE file in the root directory of this source tree.\n *\n *  \n */\n\n\nfunction getASTNodeAtPosition(query, ast, point) {\n  var offset = pointToOffset(query, point);\n  var nodeContainingPosition;\n  (0, _graphql.visit)(ast, {\n    enter: function enter(node) {\n      if (node.kind !== 'Name' && // We're usually interested in their parents\n      node.loc && node.loc.start <= offset && offset <= node.loc.end) {\n        nodeContainingPosition = node;\n      } else {\n        return false;\n      }\n    },\n    leave: function leave(node) {\n      if (node.loc && node.loc.start <= offset && offset <= node.loc.end) {\n        return false;\n      }\n    }\n  });\n  return nodeContainingPosition;\n}\n\nfunction pointToOffset(text, point) {\n  var linesUntilPosition = text.split('\\n').slice(0, point.line);\n  return point.character + linesUntilPosition.map(function (line) {\n    return line.length + 1;\n  } // count EOL\n  ).reduce(function (a, b) {\n    return a + b;\n  }, 0);\n}","map":null,"metadata":{},"sourceType":"script"}